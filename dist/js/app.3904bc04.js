(function(){"use strict";var e={7258:function(e,t,s){var n=s(9242),o=s(3396);function i(e,t,s,n,i,a){const r=(0,o.up)("my-nav"),l=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(r),(0,o.Wm)(l)],64)}var a={methods:{start(){if(localStorage.getItem("used")){if(localStorage.getItem("types"))try{const e=JSON.parse(localStorage.getItem("types"));this.$store.dispatch("loadTypes",e)}catch(e){localStorage.removeItem("types")}if(localStorage.getItem("notes"))try{const e=JSON.parse(localStorage.getItem("notes"));this.$store.dispatch("loadNotes",e)}catch(e){localStorage.removeItem("notes")}}else this.$store.dispatch("addType","Пример"),this.$store.dispatch("addNote",{id:1,type_id:this.$store.state.types[0].id,name:"Пример заметки",description:"Здесь можно написать первую заметку"}),localStorage.setItem("used",!0)}},mounted(){this.start()}},r=s(89);const l=(0,r.Z)(a,[["render",i]]);var c=l;const d=e=>((0,o.dD)("data-v-6e5ea59c"),e=e(),(0,o.Cn)(),e),u={class:"main-flexcontainer"},p={class:"main__types"},m={class:"main__grid"},_=d((()=>(0,o._)("div",{class:"grid__title"},[(0,o._)("div",{class:"title__flex"},[(0,o._)("h4",null,"Категории")])],-1))),h={class:"grid__body"},y={key:0,class:"body__flex"},v={class:"grid__footer"},f={class:"footer__flex"},g={class:"main__notes"},b={class:"main__grid"},k=d((()=>(0,o._)("div",{class:"grid__title"},[(0,o._)("div",{class:"title__flex"},[(0,o._)("h4",null,"Заметки")])],-1))),N={class:"grid__body"},T={key:0,class:"body__flex scrolled"},w={class:"grid__footer"},x={class:"footer__flex"},C={class:"main__note-screen"};function $(e,t,s,n,i,a){const r=(0,o.up)("my-dialog"),l=(0,o.up)("my-types"),c=(0,o.up)("my-button"),d=(0,o.up)("my-notes"),$=(0,o.up)("my-notescreen");return(0,o.wg)(),(0,o.iD)(o.HY,null,[i.typeCreateDialog?((0,o.wg)(),(0,o.j4)(r,{key:0,onClose:a.toggleCreateDialog},null,8,["onClose"])):(0,o.kq)("",!0),(0,o._)("div",u,[(0,o._)("div",p,[(0,o._)("div",m,[_,(0,o._)("div",h,[a.isEmpty("types")?((0,o.wg)(),(0,o.iD)("div",y,[(0,o.Wm)(l,{elements:e.$store.state.types,onDeleteType:a.deleteType},null,8,["elements","onDeleteType"])])):(0,o.kq)("",!0)]),(0,o._)("div",v,[(0,o._)("div",f,[(0,o.Wm)(c,{onClick:a.toggleCreateDialog},{default:(0,o.w5)((()=>[(0,o.Uk)("Создать раздел")])),_:1},8,["onClick"])])])])]),(0,o._)("div",g,[(0,o._)("div",b,[k,(0,o._)("div",N,[a.isEmpty("current_notes")?((0,o.wg)(),(0,o.iD)("div",T,[(0,o.Wm)(d,{elements:e.$store.state.current_notes,onDeleteNote:a.deleteNote},null,8,["elements","onDeleteNote"])])):(0,o.kq)("",!0)]),(0,o._)("div",w,[(0,o._)("div",x,[(0,o.Wm)(c,{onClick:a.createNote},{default:(0,o.w5)((()=>[(0,o.Uk)("Создать заметку")])),_:1},8,["onClick"])])])])]),(0,o._)("div",C,[(0,o.Wm)($)])])],64)}var D={data(){return{typeCreateDialog:!1}},methods:{isEmpty(e){return 0!=this.$store.state[e].length},toggleCreateDialog(){this.typeCreateDialog=!this.typeCreateDialog},deleteType(e){this.$store.dispatch("deleteType",e)},deleteNote(e){this.$store.dispatch("deleteNote",e)},createNote(){if(-1===this.$store.state.type_id)return void console.log("Сначала выберите категорию");const e={id:Date.now(),type_id:this.$store.state.type_id,name:"Новая заметка",description:"Здесь можно писать текст"};this.$store.dispatch("addNote",e)}}};const I=(0,r.Z)(D,[["render",$],["__scopeId","data-v-6e5ea59c"]]);var S=I;function E(e,t,s,n,i,a){return(0,o.wg)(),(0,o.iD)("h1",null,"Настройки")}var O={};const W=(0,r.Z)(O,[["render",E]]);var Z=W,j=s(2483);const H=[{path:"/",component:S},{path:"/second",component:Z}],M=(0,j.p7)({routes:H,history:(0,j.PO)()});var U=M,q=(s(560),s(65)),L=(0,q.MT)({state:function(){return{type_id:-1,current_notes:[],note_id:-1,types:[],notes:[]}},getters:{currentNote:e=>t=>{const s=e.current_notes.filter((t=>t.id===e.note_id))[0];if(void 0!==s)return s[t]}},mutations:{chooseType(e,t){e.type_id=t,e.note_id=-1},addType(e,t){e.types.push(t)},chooseNote(e,t){e.note_id=t},chooseNotes(e,t){e.current_notes=t.slice(0)},changeTypes(e,t){e.types=t.slice(0)},changeNotes(e,t){e.notes=t.slice(0)},addNote(e,t){e.notes.push(t),-1!==e.type_id&&e.current_notes.push(t)},editNote(e,[t,s,n]){e.current_notes[t].name=s,e.current_notes[t].description=n}},actions:{loadTypes({state:e,commit:t},s){for(let n=0;n<s.length;n++)t("addType",s[n])},loadNotes({state:e,commit:t},s){for(let n=0;n<s.length;n++)t("addNote",s[n])},save({state:e},t){const s=JSON.stringify(e[t]);localStorage.setItem(t,s)},chooseType({state:e,commit:t},s){t("chooseType",s);const n=e.notes.filter((e=>e.type_id===s));t("chooseNotes",n)},addType({state:e,commit:t,dispatch:s},n){const o={id:Date.now(),name:n};t("addType",o),s("save","types")},deleteType({state:e,commit:t,dispatch:s},n){const o=e.types.filter((e=>e.id!=n)),i=e.notes.filter((e=>e.type_id!=n));t("chooseType",-1),t("chooseNotes",[]),t("changeTypes",o),t("changeNotes",i),s("save","types"),s("save","notes")},addNote({state:e,commit:t,dispatch:s},n){t("addNote",n),-1!==e.type_id&&t("chooseNote",n.id),s("save","notes")},deleteNote({state:e,commit:t,dispatch:s},n){const o=e.notes.filter((e=>e.id!=n)),i=e.current_notes.filter((e=>e.id!=n));t("chooseNotes",i),t("changeNotes",o),t("chooseNote",-1),s("save","notes")},editNote({state:e,commit:t,dispatch:s},[n,o]){for(let i=0;i<e.current_notes.length;i++)if(e.current_notes[i].id===e.note_id)return t("editNote",[i,n,o]),void s("save","notes")}},modules:{}});function z(e,t,s,n,i,a){const r=(0,o.up)("my-sidebar");return(0,o.wg)(),(0,o.j4)(r,{onClickName:a.clickName,elements:s.elements,screen:"type_id",onDeleteElement:a.deleteType},null,8,["onClickName","elements","onDeleteElement"])}var A={name:"my-types",emits:["deleteType"],props:{elements:{type:Array,default:()=>[]}},methods:{clickName(e){const t=this.$store.state.type_id!==e.id?e.id:-1;this.$store.dispatch("chooseType",t)},deleteType(e){this.$emit("deleteType",e)}}};const B=(0,r.Z)(A,[["render",z]]);var J=B;function P(e,t,s,n,i,a){const r=(0,o.up)("my-sidebar");return(0,o.wg)(),(0,o.j4)(r,{onClickName:a.clickName,elements:s.elements,screen:"note_id",onDeleteElement:a.deleteNote},null,8,["onClickName","elements","onDeleteElement"])}var Y={name:"my-notes",emits:["deleteNote"],props:{elements:{type:Array,default:()=>[]}},methods:{clickName(e){this.$store.commit("chooseNote",e.id)},deleteNote(e){this.$emit("deleteNote",e)}}};const F=(0,r.Z)(Y,[["render",P]]);var K=F,G=s(7139);const Q=e=>((0,o.dD)("data-v-6e5505eb"),e=e(),(0,o.Cn)(),e),R={class:"screen_note"},V={key:0,class:"note__grid"},X={class:"grid__name"},ee={class:"title__flex"},te={class:"grid__text"},se=["innerHTML"],ne=Q((()=>(0,o._)("div",{class:"grid__text-btns"},null,-1))),oe={class:"grid__edit-btns"},ie={class:"edit-btns__flex"},ae={key:1},re=Q((()=>(0,o._)("h4",{class:"no-notes"},"Место для заметки",-1))),le=[re];function ce(e,t,s,n,i,a){const r=(0,o.up)("my-button");return(0,o.wg)(),(0,o.iD)("div",R,[-1!=e.$store.state.note_id?((0,o.wg)(),(0,o.iD)("div",V,[(0,o._)("div",X,[(0,o._)("div",ee,[(0,o._)("h4",{class:"title__edit",maxlength:"20",id:"title",contenteditable:"true",onInput:t[0]||(t[0]=(...e)=>a.changeNote&&a.changeNote(...e))},(0,G.zw)(e.$store.getters.currentNote("name")),33)])]),(0,o._)("div",te,[(0,o._)("p",{class:"text__edit scrolled",id:"text",contenteditable:"true",onInput:t[1]||(t[1]=(...e)=>a.changeNote&&a.changeNote(...e)),innerHTML:e.$store.getters.currentNote("description")},null,40,se)]),ne,(0,o._)("div",oe,[(0,o._)("div",ie,[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Удалить")])),_:1}),i.editState?((0,o.wg)(),(0,o.j4)(r,{key:0,onClick:a.saveEdits},{default:(0,o.w5)((()=>[(0,o.Uk)("Сохранить")])),_:1},8,["onClick"])):(0,o.kq)("",!0)])])])):((0,o.wg)(),(0,o.iD)("div",ae,le))])}var de={name:"my-notescreen",data(){return{editState:!1}},methods:{changeNote(){!1===this.editState&&(this.editState=!0)},saveEdits(){this.editState=!1;const e=document.getElementById("title"),t=document.getElementById("text");e.innerText=e.innerText.trim().slice(0,30),t.innerHTML=t.innerHTML.replace(/\&nbsp;/g,""),this.$store.dispatch("editNote",[e.innerText,t.innerHTML])}}};const ue=(0,r.Z)(de,[["render",ce],["__scopeId","data-v-6e5505eb"]]);var pe=ue;const me={class:"nav nav-tabs",id:"myTab",role:"tablist"},_e={class:"nav-item",role:"presentation"};function he(e,t,s,n,i,a){return(0,o.wg)(),(0,o.iD)("ul",me,[(0,o._)("li",_e,[(0,o._)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/")),class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"},"Заметки")])])}var ye={name:"my-nav"};const ve=(0,r.Z)(ye,[["render",he]]);var fe=ve;const ge=["onClick"],be={class:"type__flex-container"};function ke(e,t,s,n,i,a){const r=(0,o.up)("my-button-delete");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.elements,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t.id,onClick:e=>this.$emit("clickName",t),class:"type"},[(0,o._)("div",be,[(0,o._)("p",{class:(0,G.C_)(["type__title",{active:t.id===e.$store.state[s.screen],nonactive:t.id!==e.$store.state[s.screen]}])},(0,G.zw)(t.name.length>20?t.name.slice(0,20)+"...":t.name),3),t.id===e.$store.state[s.screen]?((0,o.wg)(),(0,o.j4)(r,{key:0,onClick:e=>this.$emit("deleteElement",t.id)},{default:(0,o.w5)((()=>[(0,o.Uk)("×")])),_:2},1032,["onClick"])):(0,o.kq)("",!0)])],8,ge)))),128)}var Ne={name:"my-sidebar",emits:["clickName","deleteElement"],props:{elements:{type:Array,default:()=>[]},screen:{type:[Number,String],required:!0}}};const Te=(0,r.Z)(Ne,[["render",ke],["__scopeId","data-v-6e9fafcd"]]);var we=Te;const xe={class:"btn btn-outline-success"};function Ce(e,t,s,n,i,a){return(0,o.wg)(),(0,o.iD)("button",xe,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])}var $e={name:"my-button"};const De=(0,r.Z)($e,[["render",Ce],["__scopeId","data-v-78445692"]]);var Ie=De;const Se=e=>((0,o.dD)("data-v-4790073c"),e=e(),(0,o.Cn)(),e),Ee={class:"modal__flex-container"},Oe=Se((()=>(0,o._)("div",{class:"flex-item__title"},[(0,o._)("h6",null,"Новый тип заметок")],-1))),We={class:"flex-item__input"},Ze={class:"flex-item__btns"},je={class:"btns"};function He(e,t,s,i,a,r){const l=(0,o.up)("my-input"),c=(0,o.up)("my-button");return(0,o.wg)(),(0,o.iD)("div",{class:"modal_out",onClick:t[3]||(t[3]=e=>this.$emit("close"))},[(0,o._)("div",{onClick:t[2]||(t[2]=(0,n.iM)((()=>{}),["stop"])),class:"modal_in"},[(0,o._)("div",Ee,[Oe,(0,o._)("div",We,[(0,o.Wm)(l,{helpText:a.helpText,mistake:a.mistake,title:a.title,"onUpdate:title":t[0]||(t[0]=e=>a.title=e),type:"text",placeholder:"Название"},null,8,["helpText","mistake","title"])]),(0,o._)("div",Ze,[(0,o._)("div",je,[(0,o.Wm)(c,{class:"btn",onClick:r.createType},{default:(0,o.w5)((()=>[(0,o.Uk)("Сохранение")])),_:1},8,["onClick"]),(0,o.Wm)(c,{class:"btn",onClick:t[1]||(t[1]=e=>this.$emit("close"))},{default:(0,o.w5)((()=>[(0,o.Uk)("Выйти")])),_:1})])])])])])}var Me={name:"my-dialog",data(){return{title:"",helpText:"Введите не более 20 символов",mistake:!1}},methods:{createType(){if(""===this.title)return this.helpText="Пустое значение нельзя использовать",void(this.mistake=!0);for(let e=0;e<this.$store.state.types.length;e++)if(this.$store.state.types[e].name==this.title)return this.helpText="Такое название уже используется",void(this.mistake=!0);this.$store.dispatch("addType",this.title),this.$emit("close")}}};const Ue=(0,r.Z)(Me,[["render",He],["__scopeId","data-v-4790073c"]]);var qe=Ue;const Le=e=>((0,o.dD)("data-v-0d92d55c"),e=e(),(0,o.Cn)(),e),ze={class:"mb-3"},Ae=Le((()=>(0,o._)("label",{for:"typeName",class:"form-label"},"Введите название",-1))),Be={id:"helpId",class:"form-text text-muted"};function Je(e,t,s,n,i,a){return(0,o.wg)(),(0,o.iD)("div",ze,[Ae,(0,o._)("input",{type:"text",class:(0,G.C_)(["form-control",{mistake:!0===s.mistake}]),maxlength:"20",name:"newType",id:"typeName","aria-describedby":"helpId",placeholder:"",onInput:t[0]||(t[0]=(...e)=>a.updateInput&&a.updateInput(...e))},null,34),(0,o._)("small",Be,(0,G.zw)(s.helpText),1)])}var Pe={name:"my-input",props:{title:[String,Number],helpText:String,mistake:{type:Boolean,default:!1}},methods:{updateInput(e){this.$emit("update:title",e.target.value)}}};const Ye=(0,r.Z)(Pe,[["render",Je],["__scopeId","data-v-0d92d55c"]]);var Fe=Ye;const Ke={class:"btn btn-outline-danger"};function Ge(e,t,s,n,i,a){return(0,o.wg)(),(0,o.iD)("button",Ke,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])}var Qe={name:"my-button-delete"};const Re=(0,r.Z)(Qe,[["render",Ge],["__scopeId","data-v-040a81a0"]]);var Ve=Re,Xe=[J,K,pe,fe,we,Ie,Ve,qe,Fe];s(3455);const et=(0,n.ri)(c);Xe.forEach((e=>{et.component(e.name,e)})),et.use(L).use(U).mount("#app")}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,n,o,i){if(!n){var a=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],i=e[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(r=!1,i<a&&(a=i));if(r){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],r=n[1],l=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in r)s.o(r,o)&&(s.m[o]=r[o]);if(l)var d=l(s)}for(t&&t(n);c<a.length;c++)i=a[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},n=self["webpackChunktodo"]=self["webpackChunktodo"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(7258)}));n=s.O(n)})();
//# sourceMappingURL=app.3904bc04.js.map